# Ploting b27 t1 flight path
# by Francisko de Moraes Rezende, 2021-04-23, francisko.rezende@gmail.com


# loading and installing packages used in this script ---------------------

list_of_packages <- c("tibble", "plotly")
new_packages <- list_of_packages[!(list_of_packages %in% installed.packages()[,"Package"])]
if(length(new_packages)) install.packages(new_packages)

library(plotly)
library(tibble)


# defining plotting function -----------------------------------------------



plots_flight_path <- function(dat) {
  
  plotly::plot_ly(data = dat,
                  type = "scatter3d", 
                  x = dat$x_1 ,
                  y = dat$y_1,
                  z = dat$z_1,
                  mode = "lines")
}


# loading data ------------------------------------------------------------


# This is just the content of "b27-t1_wand-unpaired-points-xyz.csv", I assigned it to an object manually to make this script run by itself

b27_t1 <- tibble::tribble(
             ~x_1,            ~y_1,           ~z_1,
   0.002735215669, -0.001067295846, 0.009588378467,
   -0.00069136573, -0.002571016308,  0.01367175731,
  -0.003780906336,  -0.00630439125,  0.02409409569,
  -0.006485874754, -0.008763060627,   0.0366553468,
  -0.009082817277,  -0.01139889247,  0.04694373306,
   -0.01203408474,  -0.01477362144,  0.05150674688,
   -0.01591005386,  -0.01670080341,  0.05321355603,
   -0.01890885271,  -0.01933663526,  0.06428837082,
   -0.02208481404,  -0.02097862887,  0.07293476348,
   -0.02439224716,  -0.02522620707,  0.08804110468,
   -0.02949971149,   -0.0279441386,  0.09607823129,
   -0.03276209353,  -0.03106824749,  0.09879184178,
   -0.03500903215,  -0.03527693637,   0.1065005697,
   -0.03588188139,  -0.04200478913,   0.1155272135,
   -0.03740720703,  -0.04756164119,   0.1366354734,
   -0.03783931061,   -0.0519431715,   0.1491707983,
    -0.0391529055,  -0.05597901895,   0.1651154205,
   -0.04133934962,  -0.05816978411,   0.1680234776,
   -0.04442889022,  -0.06056795898,   0.1750451608,
   -0.04768695122,  -0.06417602388,   0.1830045087,
   -0.04837399592,  -0.06971991283,   0.1916941117,
      -0.05043513,   -0.0752421966,   0.2024232437,
    -0.0494456128,  -0.08257499437,    0.232264317,
   -0.05027093064,  -0.08670590461,   0.2484595592,
   -0.05266046344,  -0.09008927565,   0.2588818976,
   -0.05368454893,  -0.09383129266,   0.2749863981,
   -0.05884386569,  -0.09864492656,   0.2788537251,
    -0.0606543797,   -0.1014017474,    0.285957508,
   -0.06038647548,   -0.1069715626,   0.2960773739,
   -0.06017042369,   -0.1136389208,   0.3131886757,
   -0.06055067484,    -0.121749505,   0.3299715788,
   -0.06114265674,   -0.1267359804,   0.3500643953,
     -0.061293893,   -0.1320119651,   0.3740331809,
   -0.06050746448,   -0.1352916313,   0.3888024814,
   -0.06617234243,   -0.1381910463,   0.3969433128,
   -0.06881249531,   -0.1432034479,   0.4102304979,
   -0.06878224806,   -0.1500004372,   0.4243041116,
   -0.06926620407,   -0.1550387649,   0.4359233769,
   -0.07022547402,   -0.1615678501,   0.4531815939,
   -0.07169030516,   -0.1679024886,   0.4739052817,
    -0.0727446379,   -0.1740858908,   0.4964394834,
   -0.07299093694,   -0.1798155843,   0.5165711893,
   -0.07385946514,   -0.1864613374,   0.5358257249,
   -0.07545392735,   -0.1914391706,   0.5483610498,
   -0.07669838567,   -0.1968534285,   0.5635322065,
   -0.07583849954,   -0.2032917719,   0.5765169191,
   -0.07512552863,   -0.2100498719,   0.5992628516,
   -0.07464157262,    -0.215369067,   0.6187723283,
    -0.0760502303,   -0.2234926143,   0.6444090338,
   -0.07691011642,   -0.2264395607,   0.6515733112,
   -0.07680641156,   -0.2306266444,   0.6681574466,
   -0.07769654494,   -0.2395193361,   0.6960281276,
   -0.07767061873,   -0.2446570477,   0.7052232918,
   -0.07805951195,   -0.2495743864,   0.7144962347,
   -0.07891939808,   -0.2539429537,   0.7265389615,
    -0.0794768117,   -0.2616300764,   0.7499849018,
   -0.08119226291,   -0.2671912495,   0.7633887549,
   -0.08155090889,   -0.2704277053,   0.7720524317,
   -0.08131757295,   -0.2766759231,   0.7905723912,
   -0.08162868753,   -0.2820728968,   0.8088244465,
   -0.08214721183,    -0.286320475,   0.8150726642,
   -0.08340031221,   -0.2905507691,    0.831216054,
   -0.08337870703,   -0.2960428056,   0.8364142601,
   -0.08525403658,   -0.3010811333,   0.8580669706,
   -0.08679664636,   -0.3069663841,   0.8804542571,
   -0.08808863607,    -0.310933095,   0.8950118268,
   -0.09027075915,   -0.3147356065,   0.9161719391,
   -0.09141151261,   -0.3204480158,   0.9425086524,
   -0.09284177546,   -0.3247301623,    0.957416226,
   -0.09288930686,   -0.3297728111,   0.9682101734,
   -0.09379240334,   -0.3337784113,   0.9826597172,
   -0.09605230507,   -0.3405062641,    1.001542644,
   -0.09864060552,    -0.345198909,    1.019937293,
   -0.09937950265,    -0.350271805,    1.037688108,
    -0.1009566807,   -0.3543076525,    1.055093241,
    -0.1024128698,   -0.3579416436,    1.069153891
  )



# making the plot ---------------------------------------------------------


plots_flight_path(b27_t1)
